---
import Layout from '@/layouts/Layout.astro';
---

<Layout title="Upload Facebook Data - Marketing Dashboard">
  <div class="container mx-auto px-4 py-8">
    <!-- Header -->
    <div class="mb-8">
      <h1 class="text-3xl font-bold tracking-tight">Upload Facebook Ads Data</h1>
      <p class="text-muted-foreground mt-2">
        Upload CSV files exported from Facebook Ads Manager to track CPA performance with interactive charts
      </p>
    </div>

    <!-- Facebook CSV Upload Component -->
    <div id="facebook-upload-root"></div>
  </div>
</Layout>

<script>
  import { FacebookCSVUpload } from '@/components/FacebookCSVUpload.tsx';
  import React from 'react';
  import { createRoot } from 'react-dom/client';

  // Mount React component
  const container = document.getElementById('facebook-upload-root');
  if (container) {
    const root = createRoot(container);
    root.render(React.createElement(FacebookCSVUpload, {
      onDataParsed: (data) => {
        console.log('Facebook CSV data parsed:', data);
        // You can add additional handling here, like saving to localStorage
        // or sending to an API endpoint
      }
    }));
  }
</script>